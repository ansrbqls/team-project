{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/cursor/team%20project/campus-cafe/src/app/coupons/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useStore } from '@/store/useStore'\r\nimport { useRouter } from 'next/navigation'\r\nimport { useEffect } from 'react'\r\n\r\nexport default function CouponsPage() {\r\n    const { currentUser, getUserCoupons, getUserStamps, useCoupon } = useStore()\r\n    const router = useRouter()\r\n\r\n    useEffect(() => {\r\n        if (!currentUser) {\r\n            router.push('/login')\r\n        }\r\n    }, [currentUser, router])\r\n\r\n    if (!currentUser) {\r\n        return null\r\n    }\r\n\r\n    const userCoupons = getUserCoupons(currentUser.id)\r\n    const userStamps = getUserStamps(currentUser.id)\r\n    const stampCount = userStamps.length\r\n    const remainingStamps = stampCount % 10\r\n    const freeCouponCount = Math.floor(stampCount / 10)\r\n\r\n    return (\r\n        <div className=\"container mx-auto px-4 py-8\">\r\n            <h1 className=\"text-2xl font-bold mb-8\">스탬프 & 쿠폰</h1>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"bg-white rounded-lg shadow p-6\">\r\n                    <h2 className=\"text-xl font-semibold mb-4\">스탬프 현황</h2>\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                        <div>\r\n                            <p className=\"text-2xl font-bold text-blue-600\">\r\n                                {remainingStamps}/10\r\n                            </p>\r\n                            <p className=\"text-sm text-gray-500\">\r\n                                {10 - remainingStamps}개 더 모으면 무료 음료 쿠폰으로 교환됩니다!\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"flex space-x-2\">\r\n                            {Array(10)\r\n                                .fill(null)\r\n                                .map((_, index) => (\r\n                                    <div\r\n                                        key={index}\r\n                                        className={`w-8 h-8 rounded-full border-2 flex items-center justify-center ${index < remainingStamps\r\n                                            ? 'bg-blue-600 text-white border-blue-600'\r\n                                            : 'border-gray-300 text-gray-300'\r\n                                            }`}\r\n                                    >\r\n                                        ✓\r\n                                    </div>\r\n                                ))}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"mt-4 p-4 bg-gray-50 rounded\">\r\n                        <p className=\"text-sm text-gray-600\">\r\n                            • 메뉴 1개 주문 시 스탬프 1개가 적립됩니다.\r\n                            <br />\r\n                            • 스탬프 10개가 모이면 자동으로 무료 음료 쿠폰으로 교환됩니다.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white rounded-lg shadow p-6\">\r\n                    <h2 className=\"text-xl font-semibold mb-4\">무료 음료 쿠폰</h2>\r\n                    {userCoupons.length === 0 ? (\r\n                        <p className=\"text-gray-500\">사용 가능한 무료 음료 쿠폰이 없습니다.</p>\r\n                    ) : (\r\n                        <div className=\"space-y-4\">\r\n                            {userCoupons.map((coupon) => (\r\n                                <div\r\n                                    key={coupon.id}\r\n                                    className=\"flex justify-between items-center p-4 bg-gray-50 rounded\"\r\n                                >\r\n                                    <div>\r\n                                        <p className=\"font-medium\">무료 음료 쿠폰</p>\r\n                                        <p className=\"text-sm text-gray-500\">\r\n                                            발급일:{' '}\r\n                                            {new Date(\r\n                                                coupon.createdAt\r\n                                            ).toLocaleDateString()}\r\n                                        </p>\r\n                                    </div>\r\n                                    <button\r\n                                        onClick={() => useCoupon(coupon.id)}\r\n                                        className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n                                    >\r\n                                        사용하기\r\n                                    </button>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACpB,MAAM,EAAE,WAAW,EAAE,cAAc,EAAE,aAAa,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,wHAAA,CAAA,WAAQ,AAAD;IACzE,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,IAAI,CAAC,aAAa;YACd,OAAO,IAAI,CAAC;QAChB;IACJ,GAAG;QAAC;QAAa;KAAO;IAExB,IAAI,CAAC,aAAa;QACd,OAAO;IACX;IAEA,MAAM,cAAc,eAAe,YAAY,EAAE;IACjD,MAAM,aAAa,cAAc,YAAY,EAAE;IAC/C,MAAM,aAAa,WAAW,MAAM;IACpC,MAAM,kBAAkB,aAAa;IACrC,MAAM,kBAAkB,KAAK,KAAK,CAAC,aAAa;IAEhD,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;0CAC3C,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;;0DACG,8OAAC;gDAAE,WAAU;;oDACR;oDAAgB;;;;;;;0DAErB,8OAAC;gDAAE,WAAU;;oDACR,KAAK;oDAAgB;;;;;;;;;;;;;kDAG9B,8OAAC;wCAAI,WAAU;kDACV,MAAM,IACF,IAAI,CAAC,MACL,GAAG,CAAC,CAAC,GAAG,sBACL,8OAAC;gDAEG,WAAW,CAAC,+DAA+D,EAAE,QAAQ,kBAC/E,2CACA,iCACA;0DACT;+CALQ;;;;;;;;;;;;;;;;0CAWzB,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCAAE,WAAU;;wCAAwB;sDAEjC,8OAAC;;;;;wCAAK;;;;;;;;;;;;;;;;;;kCAMlB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAG,WAAU;0CAA6B;;;;;;4BAC1C,YAAY,MAAM,KAAK,kBACpB,8OAAC;gCAAE,WAAU;0CAAgB;;;;;qDAE7B,8OAAC;gCAAI,WAAU;0CACV,YAAY,GAAG,CAAC,CAAC,uBACd,8OAAC;wCAEG,WAAU;;0DAEV,8OAAC;;kEACG,8OAAC;wDAAE,WAAU;kEAAc;;;;;;kEAC3B,8OAAC;wDAAE,WAAU;;4DAAwB;4DAC5B;4DACJ,IAAI,KACD,OAAO,SAAS,EAClB,kBAAkB;;;;;;;;;;;;;0DAG5B,8OAAC;gDACG,SAAS,IAAM,UAAU,OAAO,EAAE;gDAClC,WAAU;0DACb;;;;;;;uCAfI,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BlD","debugId":null}}]
}