{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/cursor/team%20project/campus-cafe/src/app/menu/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useStore } from '@/store/useStore'\r\nimport { useState } from 'react'\r\nimport Image from 'next/image'\r\nimport { useRouter } from 'next/navigation'\r\nimport { MenuItem } from '@/store/useStore'\r\n\r\nconst categories = [\r\n    { id: 'COFFEE', name: '커피' },\r\n    { id: 'LATTE', name: '라떼' },\r\n    { id: 'JUICE', name: '주스' },\r\n    { id: 'ADE', name: '에이드' },\r\n    { id: 'TEA', name: '차' },\r\n    { id: 'SMOOTHIE', name: '스무디' },\r\n    { id: 'FRAPE', name: '프라페' },\r\n    { id: 'DESSERT', name: '디저트' },\r\n    { id: 'FAVORITES', name: '즐겨찾기' },\r\n]\r\n\r\nexport default function MenuPage() {\r\n    const { menu, addToCart, currentUser, toggleFavorite, getUserFavorites } = useStore()\r\n    const [selectedCategory, setSelectedCategory] = useState<string>('COFFEE')\r\n    const [notification, setNotification] = useState('')\r\n    const [showModal, setShowModal] = useState(false)\r\n    const [selectedItem, setSelectedItem] = useState<any>(null)\r\n    const router = useRouter()\r\n\r\n    // 현재 사용자의 즐겨찾기 목록 가져오기\r\n    const userFavorites = currentUser ? getUserFavorites(currentUser.id) : []\r\n\r\n    // 선택된 카테고리에 따라 메뉴 필터링\r\n    const filteredMenu = selectedCategory === 'FAVORITES'\r\n        ? menu.filter((item) => userFavorites.includes(item.id))\r\n        : menu.filter((item) => item.category === selectedCategory)\r\n\r\n    const handleAddToCart = (item: MenuItem) => {\r\n        if (!item || !item.id) {\r\n            console.error('Invalid item provided to handleAddToCart:', item);\r\n            return;\r\n        }\r\n        if (!currentUser) {\r\n            router.push('/login')\r\n            return\r\n        }\r\n        addToCart(item)\r\n        setSelectedItem(item)\r\n        setShowModal(true)\r\n    }\r\n\r\n    const handleContinueShopping = () => {\r\n        setShowModal(false)\r\n        setSelectedItem(null)\r\n    }\r\n\r\n    const handleGoToCart = () => {\r\n        setShowModal(false)\r\n        setSelectedItem(null)\r\n        router.push('/cart')\r\n    }\r\n\r\n    const handleToggleFavorite = (e: React.MouseEvent, itemId: string) => {\r\n        e.stopPropagation()\r\n        if (!currentUser) {\r\n            router.push('/login')\r\n            return\r\n        }\r\n        toggleFavorite(itemId)\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mx-auto px-4 py-8\">\r\n            <h1 className=\"text-2xl font-bold mb-8\">메뉴</h1>\r\n\r\n            {notification && (\r\n                <div className=\"fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow-lg\">\r\n                    {notification}\r\n                </div>\r\n            )}\r\n\r\n            {/* 카테고리 선택 */}\r\n            <div className=\"flex space-x-4 mb-8 overflow-x-auto pb-2\">\r\n                {categories.map((category) => (\r\n                    <button\r\n                        key={category.id}\r\n                        onClick={() => setSelectedCategory(category.id)}\r\n                        className={`px-4 py-2 rounded ${selectedCategory === category.id\r\n                            ? 'bg-blue-600 text-white'\r\n                            : 'bg-gray-200 text-gray-700'\r\n                            }`}\r\n                    >\r\n                        {category.name}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n\r\n            {/* 메뉴 그리드 */}\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n                {filteredMenu.map((item) => (\r\n                    <div\r\n                        key={item.id}\r\n                        className=\"bg-white rounded-lg shadow-md overflow-hidden relative\"\r\n                    >\r\n                        <button\r\n                            onClick={(e) => handleToggleFavorite(e, item.id)}\r\n                            className=\"absolute top-2 left-2 z-10 p-2 rounded-full bg-white bg-opacity-80 hover:bg-opacity-100 transition-all\"\r\n                        >\r\n                            <svg\r\n                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                className={`h-6 w-6 ${userFavorites.includes(item.id)\r\n                                    ? 'text-yellow-400 fill-current'\r\n                                    : 'text-gray-400'\r\n                                    }`}\r\n                                viewBox=\"0 0 24 24\"\r\n                                stroke=\"currentColor\"\r\n                            >\r\n                                <path\r\n                                    strokeLinecap=\"round\"\r\n                                    strokeLinejoin=\"round\"\r\n                                    strokeWidth={2}\r\n                                    d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\"\r\n                                />\r\n                            </svg>\r\n                        </button>\r\n\r\n                        <div className=\"relative h-48\">\r\n                            <Image\r\n                                src={item.image}\r\n                                alt={item.name}\r\n                                fill\r\n                                className=\"object-cover\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"p-4\">\r\n                            <h3 className=\"text-lg font-semibold mb-2\">{item.name}</h3>\r\n                            <p className=\"text-gray-600 mb-4\">{item.price.toLocaleString()}원</p>\r\n                            <button\r\n                                onClick={() => handleAddToCart(item)}\r\n                                className=\"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition-colors\"\r\n                            >\r\n                                장바구니 담기\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* 모달 */}\r\n            {showModal && (\r\n                <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n                    <div className=\"bg-white rounded-lg p-6 max-w-sm w-full mx-4\">\r\n                        <h3 className=\"text-lg font-semibold mb-4\">장바구니에 추가되었습니다</h3>\r\n                        <p className=\"text-gray-600 mb-6\">\r\n                            {selectedItem?.name}이(가) 장바구니에 추가되었습니다.\r\n                        </p>\r\n                        <div className=\"flex space-x-4\">\r\n                            <button\r\n                                onClick={handleContinueShopping}\r\n                                className=\"flex-1 bg-gray-200 text-gray-700 py-2 rounded hover:bg-gray-300 transition-colors\"\r\n                            >\r\n                                계속 쇼핑하기\r\n                            </button>\r\n                            <button\r\n                                onClick={handleGoToCart}\r\n                                className=\"flex-1 bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition-colors\"\r\n                            >\r\n                                장바구니로 이동\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n} "],"names":[],"mappings":"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","debugId":null}}]
}